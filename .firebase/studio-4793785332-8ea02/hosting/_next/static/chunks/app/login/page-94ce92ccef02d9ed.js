(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8022:function(e,n,t){Promise.resolve().then(t.bind(t,5207))},5207:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var a=t(7437),r=t(2265),i=t(7138),o=t(6353),s=t(5511),u=t(4962),l=t(3755),d=t(2879),c=t(2726),h=t(8358),f=t(5136),m=t(2151);function p(e){switch((null==e?void 0:e.code)||""){case"auth/email-already-in-use":return"Email j\xe1 cadastrado. Fa\xe7a login ou redefina sua senha.";case"auth/invalid-email":return"Email inv\xe1lido.";case"auth/user-not-found":return"Usu\xe1rio n\xe3o encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/invalid-credential":return"Credencial inv\xe1lida ou expirada. Redefina sua senha ou tente novamente.";case"auth/too-many-requests":return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case"auth/network-request-failed":return"Falha de rede. Verifique sua conex\xe3o.";case"auth/operation-not-allowed":return"Login por email/senha desativado no projeto.";case"auth/unauthorized-domain":return"Dom\xednio n\xe3o autorizado no Firebase Auth.";case"auth/invalid-api-key":return"API key inv\xe1lida ou n\xe3o configurada.";default:return(null==e?void 0:e.message)||"Falha no login."}}function v(){let[e,n]=(0,r.useState)(""),[v,x]=(0,r.useState)(""),[g,b]=(0,r.useState)(!1),[w,y]=(0,r.useState)(null),[E,j]=(0,r.useState)(null),Z=(0,m.p)(),[F,A]=(0,r.useState)(null);(0,r.useEffect)(()=>{(0,o.E7)().then(A).catch(()=>A(null))},[]);let C=!!F,S=async n=>{if(n.preventDefault(),y(null),!C){y("Firebase n\xe3o configurado. Preencha NEXT_PUBLIC_FIREBASE_* no .env.local");return}b(!0);try{let n=F||await (0,o.E7)();if(!n)throw Error("Auth n\xe3o dispon\xedvel no cliente.");let{signInWithEmailAndPassword:a}=await Promise.all([t.e(139),t.e(597)]).then(t.bind(t,5735));await a(n,e,v),Z.show("Login realizado com sucesso!","success"),window.location.href="/"}catch(n){let e=p(n);y(e),Z.show(e,"error")}finally{b(!1)}},P=async()=>{if(y(null),j(null),!C){y("Firebase n\xe3o configurado. Preencha NEXT_PUBLIC_FIREBASE_* no .env.local");return}if(!e){y("Informe seu email para redefinir a senha.");return}try{let n=F||await (0,o.E7)();if(!n)throw Error("Auth n\xe3o dispon\xedvel no cliente.");let{sendPasswordResetEmail:a}=await Promise.all([t.e(139),t.e(597)]).then(t.bind(t,5735));await a(n,e);let r="Enviamos um link de redefini\xe7\xe3o de senha para seu email.";j(r),Z.show(r,"info")}catch(n){let e=p(n);y(e),Z.show(e,"error")}};return(0,a.jsxs)("main",{className:"container",children:[(0,a.jsx)(s.Z,{variant:"h4",sx:{mb:2},children:"Login"}),(0,a.jsx)(u.Z,{sx:{p:2,mb:2},variant:"outlined",children:(0,a.jsxs)(s.Z,{variant:"caption",children:["Projeto: ","studio-4793785332-8ea02"," | Dom\xednio Auth: ","studio-4793785332-8ea02.firebaseapp.com"]})}),(0,a.jsxs)(l.Z,{"aria-live":"polite",children:[w&&(0,a.jsx)(d.Z,{severity:"error",sx:{mb:2},children:w}),E&&(0,a.jsx)(d.Z,{severity:"info",sx:{mb:2},children:E})]}),(0,a.jsxs)(l.Z,{component:"form",onSubmit:S,sx:{display:"grid",gap:2,maxWidth:420},children:[(0,a.jsx)(c.Z,{label:"Email",type:"email",value:e,onChange:e=>n(e.target.value),required:!0,fullWidth:!0,disabled:g}),(0,a.jsx)(c.Z,{label:"Senha",type:"password",value:v,onChange:e=>x(e.target.value),required:!0,fullWidth:!0,disabled:g}),(0,a.jsx)(h.Z,{type:"submit",variant:"contained",disabled:g,startIcon:g?(0,a.jsx)(f.Z,{color:"inherit",size:16}):void 0,children:g?"Entrando...":"Entrar"})]}),(0,a.jsx)(h.Z,{type:"button",onClick:P,sx:{mt:1},disabled:g,children:"Esqueci minha senha"}),(0,a.jsxs)(s.Z,{sx:{mt:2},children:["N\xe3o tem conta? ",(0,a.jsx)(i.default,{href:"/signup",children:"Cadastre-se"})]})]})}},2151:function(e,n,t){"use strict";t.d(n,{default:function(){return h},p:function(){return c}});var a=t(7437),r=t(2265),i=t(3598),o=t(6600),s=t(1581),u=t(12),l=t(2879);let d=(0,r.createContext)(null);function c(){let e=(0,r.useContext)(d);if(!e)throw Error("useToast must be used within ToastProvider");return e}function h(e){let{children:n}=e,[t,c]=(0,r.useState)({open:!1,message:"",severity:"info"}),h=(0,r.useMemo)(()=>(0,i.Z)({palette:{mode:"dark",primary:{main:"#0E539A"},background:{default:"#0D111B",paper:"#272F44"},text:{primary:"#FFFFFF",secondary:"#909095"}},typography:{fontFamily:'"Segoe UI Variable", "Segoe UI", sans-serif'}}),[]),f=(0,r.useMemo)(()=>({show:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return c({open:!0,message:e,severity:n})}}),[]);return(0,a.jsxs)(o.Z,{theme:h,children:[(0,a.jsx)(s.ZP,{}),(0,a.jsxs)(d.Provider,{value:f,children:[n,(0,a.jsx)(u.Z,{open:t.open,autoHideDuration:3e3,onClose:()=>c(e=>({...e,open:!1})),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,a.jsx)(l.Z,{severity:t.severity,onClose:()=>c(e=>({...e,open:!1})),sx:{width:"100%"},children:t.message})})]})]})}},6353:function(e,n,t){"use strict";t.d(n,{E7:function(){return c},l2:function(){return l},zA:function(){return d}});var a=t(5236);let r="AIzaSyCErAtVhtvFAeA2_-7-AC9-sK-0QXkWUAA",i="studio-4793785332-8ea02.firebaseapp.com",o="studio-4793785332-8ea02",s="1:435822865745:web:51bc089558ac12631ef770",u=!!(r&&i&&o&&s),l=u?(0,a.C6)().length?(0,a.Mq)():(0,a.ZF)({apiKey:r,authDomain:i,projectId:o,storageBucket:"studio-4793785332-8ea02.firebasestorage.app",messagingSenderId:"435822865745",appId:s}):null;async function d(){if(!u||!l)return null;let{getFirestore:e}=await Promise.all([t.e(358),t.e(288)]).then(t.bind(t,9842));return e(l)}async function c(){if(!u||!l)return null;let{getAuth:e}=await Promise.all([t.e(139),t.e(597)]).then(t.bind(t,5735));return e(l)}}},function(e){e.O(0,[248,236,138,124,491,879,118,726,517,971,23,744],function(){return e(e.s=8022)}),_N_E=e.O()}]);