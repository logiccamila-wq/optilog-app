(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{8144:function(e,n,a){Promise.resolve().then(a.bind(a,1039))},1039:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return v}});var t=a(7437),r=a(2265),i=a(7138),o=a(6353),s=a(5511),l=a(4962),u=a(3755),d=a(2879),c=a(2726),h=a(8358),f=a(5136),m=a(2151);function p(e){switch((null==e?void 0:e.code)||""){case"auth/email-already-in-use":return"Email j\xe1 cadastrado. Fa\xe7a login ou redefina sua senha.";case"auth/invalid-email":return"Email inv\xe1lido.";case"auth/user-not-found":return"Usu\xe1rio n\xe3o encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/invalid-credential":return"Credencial inv\xe1lida ou expirada. Redefina sua senha ou tente novamente.";case"auth/too-many-requests":return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case"auth/network-request-failed":return"Falha de rede. Verifique sua conex\xe3o.";case"auth/operation-not-allowed":return"Login por email/senha desativado no projeto.";case"auth/unauthorized-domain":return"Dom\xednio n\xe3o autorizado no Firebase Auth.";case"auth/invalid-api-key":return"API key inv\xe1lida ou n\xe3o configurada.";default:return(null==e?void 0:e.message)||"Falha no cadastro."}}function v(){let[e,n]=(0,r.useState)(""),[v,x]=(0,r.useState)(""),[b,g]=(0,r.useState)(""),[y,w]=(0,r.useState)(!1),[j,E]=(0,r.useState)(null),[Z,C]=(0,r.useState)(null),[F,S]=(0,r.useState)(null),A=(0,m.p)(),[P,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{(0,o.E7)().then(k).catch(()=>k(null))},[]);let _=!!P,I=async n=>{if(n.preventDefault(),E(null),C(null),S(null),!_){E("Firebase n\xe3o configurado. Preencha NEXT_PUBLIC_FIREBASE_* no .env.local");return}w(!0);try{let n=P||await (0,o.E7)();if(!n)throw Error("Auth n\xe3o dispon\xedvel no cliente.");let{createUserWithEmailAndPassword:t,updateProfile:r}=await Promise.all([a.e(139),a.e(597)]).then(a.bind(a,5735)),i=await t(n,e,v);b&&await r(i.user,{displayName:b}),A.show("Cadastro realizado com sucesso!","success"),window.location.href="/"}catch(n){let e=p(n);E(e),S((null==n?void 0:n.code)||null),A.show(e,"error")}finally{w(!1)}},N=async()=>{if(E(null),C(null),!_){E("Firebase n\xe3o configurado. Preencha NEXT_PUBLIC_FIREBASE_* no .env.local");return}if(!e){E("Informe seu email para redefinir a senha.");return}try{let n=P||await (0,o.E7)();if(!n)throw Error("Auth n\xe3o dispon\xedvel no cliente.");let{sendPasswordResetEmail:t}=await Promise.all([a.e(139),a.e(597)]).then(a.bind(a,5735));await t(n,e);let r="Enviamos um link de redefini\xe7\xe3o de senha para seu email.";C(r),A.show(r,"info")}catch(n){let e=p(n);E(e),A.show(e,"error")}};return(0,t.jsxs)("main",{className:"container",children:[(0,t.jsx)(s.Z,{variant:"h4",sx:{mb:2},children:"Cadastro"}),(0,t.jsx)(l.Z,{sx:{p:2,mb:2},variant:"outlined",children:(0,t.jsxs)(s.Z,{variant:"caption",children:["Projeto: ","studio-4793785332-8ea02"," | Dom\xednio Auth: ","studio-4793785332-8ea02.firebaseapp.com"]})}),(0,t.jsxs)(u.Z,{"aria-live":"polite",children:[j&&(0,t.jsx)(d.Z,{severity:"error",sx:{mb:2},children:j}),Z&&(0,t.jsx)(d.Z,{severity:"info",sx:{mb:2},children:Z})]}),(0,t.jsxs)(u.Z,{component:"form",onSubmit:I,sx:{display:"grid",gap:2,maxWidth:420},children:[(0,t.jsx)(c.Z,{label:"Nome",type:"text",value:b,onChange:e=>g(e.target.value),placeholder:"Opcional",fullWidth:!0,disabled:y}),(0,t.jsx)(c.Z,{label:"Email",type:"email",value:e,onChange:e=>n(e.target.value),required:!0,fullWidth:!0,disabled:y}),(0,t.jsx)(c.Z,{label:"Senha",type:"password",value:v,onChange:e=>x(e.target.value),required:!0,fullWidth:!0,disabled:y}),(0,t.jsx)(h.Z,{type:"submit",variant:"contained",disabled:y,startIcon:y?(0,t.jsx)(f.Z,{color:"inherit",size:16}):void 0,children:y?"Cadastrando...":"Cadastrar"})]}),"auth/email-already-in-use"===F&&(0,t.jsxs)(u.Z,{sx:{mt:2},children:[(0,t.jsx)(h.Z,{type:"button",onClick:N,sx:{mr:1},disabled:y,children:"Redefinir senha"}),(0,t.jsx)(h.Z,{component:i.default,href:"/login",children:"Ir para Login"})]}),(0,t.jsxs)(s.Z,{sx:{mt:2},children:["J\xe1 tem conta? ",(0,t.jsx)(i.default,{href:"/login",children:"Entrar"})]})]})}},2151:function(e,n,a){"use strict";a.d(n,{default:function(){return h},p:function(){return c}});var t=a(7437),r=a(2265),i=a(3598),o=a(6600),s=a(1581),l=a(12),u=a(2879);let d=(0,r.createContext)(null);function c(){let e=(0,r.useContext)(d);if(!e)throw Error("useToast must be used within ToastProvider");return e}function h(e){let{children:n}=e,[a,c]=(0,r.useState)({open:!1,message:"",severity:"info"}),h=(0,r.useMemo)(()=>(0,i.Z)({palette:{mode:"dark",primary:{main:"#0E539A"},background:{default:"#0D111B",paper:"#272F44"},text:{primary:"#FFFFFF",secondary:"#909095"}},typography:{fontFamily:'"Segoe UI Variable", "Segoe UI", sans-serif'}}),[]),f=(0,r.useMemo)(()=>({show:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return c({open:!0,message:e,severity:n})}}),[]);return(0,t.jsxs)(o.Z,{theme:h,children:[(0,t.jsx)(s.ZP,{}),(0,t.jsxs)(d.Provider,{value:f,children:[n,(0,t.jsx)(l.Z,{open:a.open,autoHideDuration:3e3,onClose:()=>c(e=>({...e,open:!1})),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,t.jsx)(u.Z,{severity:a.severity,onClose:()=>c(e=>({...e,open:!1})),sx:{width:"100%"},children:a.message})})]})]})}},6353:function(e,n,a){"use strict";a.d(n,{E7:function(){return c},l2:function(){return u},zA:function(){return d}});var t=a(5236);let r="AIzaSyCErAtVhtvFAeA2_-7-AC9-sK-0QXkWUAA",i="studio-4793785332-8ea02.firebaseapp.com",o="studio-4793785332-8ea02",s="1:435822865745:web:51bc089558ac12631ef770",l=!!(r&&i&&o&&s),u=l?(0,t.C6)().length?(0,t.Mq)():(0,t.ZF)({apiKey:r,authDomain:i,projectId:o,storageBucket:"studio-4793785332-8ea02.firebasestorage.app",messagingSenderId:"435822865745",appId:s}):null;async function d(){if(!l||!u)return null;let{getFirestore:e}=await Promise.all([a.e(358),a.e(288)]).then(a.bind(a,9842));return e(u)}async function c(){if(!l||!u)return null;let{getAuth:e}=await Promise.all([a.e(139),a.e(597)]).then(a.bind(a,5735));return e(u)}}},function(e){e.O(0,[248,236,138,124,491,879,118,726,517,971,23,744],function(){return e(e.s=8144)}),_N_E=e.O()}]);